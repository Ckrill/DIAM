<!doctype html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />

    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js'></script>
</head>

<body>
    <script type="text/javascript">
         var id = 0;
        (function ($) {
            var url = "http://api.themoviedb.org/3/movie/top_rated?&api_key=83b296315507b7ea0ccdcc536a5ab745";
            $.getJSON(url, function (json) {
                console.log(json);
                function randomMovie(){
                    var randomNumber = Math.floor((Math.random() * 19) + 1);
                    var voteCount = json.results[randomNumber].vote_count;
                    var title = json.results[randomNumber].title;
                    if (voteCount < 100){
                        randomMovie();
                    }else{
                        $('#title').text(title);
                        $('#votes').text("Votes: "+voteCount);
                    }
                }
                randomMovie();
            });

        })(jQuery);
    </script>
    <div id="title">
        
    </div>
    <div id="votes">
        
    </div>

</body>

</html>
